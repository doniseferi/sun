language: node_js
os:
  - windows
  - linux
  - osx
node_js:
  - "node"
  - lts/*
  - 12
  - 10
  - 8
cache:
  directories:
    - "$HOME/.npm"

after_success: 
  - npm run coverage

deploy:
  provider: npm
  email: doni.seferi@gmail.com
  api_key: $NPM_KEY
  - on:
  - tags: true
  - branch: master